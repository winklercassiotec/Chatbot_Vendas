<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Pedidos Registrados - HÃ³stias</title>
<style>
  body{font-family:Arial,Helvetica,sans-serif;background:#f0f0f0;margin:0;padding:20px;color:#333}
  .container{max-width:900px;margin:0 auto;background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,0.1);}
  h2{text-align:center;margin-top:0;}
  .pedido{border:1px solid #ccc;padding:10px;margin:10px 0;border-radius:8px;}
  .pedido h3{margin:0 0 10px 0;color:#1976d2;}
  ul{margin:0;padding-left:20px;}
</style>
</head>
<body>
<div class="container">
  <h2>ðŸ“¦ Pedidos Registrados</h2>
  <div id="listaPedidos"></div>
</div>

<script>
function getLocal(key){ return JSON.parse(localStorage.getItem(key) || '[]'); }
function isoToBR(iso){ if(!iso) return ''; return iso.split('T')[0].split('-').reverse().join('/'); }

function carregarPedidos(){
  const lista=document.getElementById('listaPedidos');
  lista.innerHTML='';
  const pedidos=getLocal('pedidos');
  if(pedidos.length===0){
    lista.innerHTML='<p>Nenhum pedido registrado ainda.</p>';
    return;
  }
  pedidos.forEach(p=>{
    const div=document.createElement('div');
    div.classList.add('pedido');
    div.innerHTML=`
      <h3>Pedido #${p.id}</h3>
      <p><strong>Data:</strong> ${isoToBR(p.data)}</p>
      <p><strong>Empresa:</strong> ${p.cliente?.empresa || ''}</p>
      <p><strong>CNPJ:</strong> ${p.cliente?.cnpj || ''}</p>
      <p><strong>ResponsÃ¡vel:</strong> ${p.cliente?.responsavel || ''}</p>
      <p><strong>Contato:</strong> ${p.cliente?.telefone || ''}</p>
      <h4>Itens:</h4>
      <ul>${p.itens.map(i=>`<li>${i.produto} â€” <strong>${i.quantidade}</strong></li>`).join('')}</ul>
    `;
    lista.appendChild(div);
  });
}
carregarPedidos();
</script>
</body>
</html>
